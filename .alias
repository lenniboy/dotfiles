os=`uname`

command="ls -lah"
if [ "$os" == "Linux" ]
then
  alias ll="$command --color"
  alias ack="ack-grep"
  alias gvim='UBUNTU_MENUPROXY= gvim'
fi

if [ "$os" == "Darwin" ]
then
  alias ll="$command"
  alias gvim="mvim"
  alias clear-dns="sudo killall -HUP mDNSResponder"
fi
alias grep='grep --color=auto'
alias jsonpretty='python -mjson.tool'
alias maketags='ctags -R .'
alias rmmux='rm ~/.ssh/mux-*'
alias list-ssh-tunnels='ps aux|grep "ssh -f"|grep -v grep'
alias myip='ifconfig | grep "inet " | cut -d" " -f 2'
alias mvim2='mvim +vsplit -c ":set lines=999 columns=999" $@'
alias mvim3='mvim +vsplit +vsplit -c ":set lines=999 columns=999" $@'
alias rvim='mvim --remote $@'
alias serve='python -m SimpleHTTPServer 8123'
alias timestamp='date "+%Y%m%d%H%M%S"'
alias uuid="uuidgen | tr '[:upper:]' '[:lower:]'"
alias password="openssl rand -base64 12"
alias returncode='echo $?'
function fnd() {
  find . -name *$1*
}
function swap() {
  mv $1 tmp && mv $2 $1 && mv tmp $2
}

alias gca='git commit -am'
alias gsc='git svn dcommit'
alias gsr='git svn rebase'
alias gitignore='vim .gitignore'

alias tlog='sudo less +F /var/log/tomcat7/catalina.out'
alias a-encrypt='ansible-vault encrypt --vault-password-file ~/.vault_pass.txt'
alias a-decrypt='ansible-vault decrypt --vault-password-file ~/.vault_pass.txt'

function r-ssh(){
  echo "Looking up public IP for EC2 instance named '$1'"
  IP=`aws ec2 describe-instances --filters "Name=tag:Name,Values=${1}"| jq .Reservations[0].Instances[0].NetworkInterfaces[0].Association.PublicIp -r`
  echo "IP for '$1' is $IP"
  ssh ubuntu@$IP
}

